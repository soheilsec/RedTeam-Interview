نمونه سوالات مصاحبه Red Team
گروه های تهدیدهای پیشرفته پایدار Advanced Persistent threat در سرتاسر دنیا قرار دارند و هر کدام از آن ها دارای یک سری ویژگی های خاص هستند و هدف های منحصر به فردی را دارا می باشند بعضی از آنها به دنبال جاسوسی از دولت ها بعضی دیگر از موسسات مالی و بعضی از آنها صرفا به دنبال خرابکاری هستند. وظیفه اصلی تیم قرمز یا رد تیم اجرای تمرین های Red Teaming هست تمرین هایی که در واقع به شبیه سازی  حملات این گروه ها می پردازند و میزان هوشیار بودن IR سازمان ها را ارزیابی می کنند.
پیاده سازی رد تیم را می توان توسط فریم ورک های مختلف انجام داد دو تا از معروف ترین آن ها MITRE Attack و Cyber Kill Chain می باشد. اقداماتی که کلیه گروه های APT انجام می دهند را می توان در 14 مرحله MITRE Attack گنجاند. این 14 مرحله در واقع 14 تاکتیک اصلی زنجیره گروه های هکری دولتی هستند. و هر تاکتیک شامل تکنیک های مختلفی است که توسط این گروه ها ابداع شده و بعد از مدتی کارشناسان امنیت کالبدشکافی یا همان DFIR ها شناسایی و در قالب MITRE ATTACK TTP جمع آوری شده تا سازمان ها بتوانند اقدامات امنیتی مناسبی جهت جلوگیری از آن ها انجام دهند.
تمرین های Red Teaming شامل 
Enterprise Matrix
https://attack.mitre.org/matrices/enterprise/

شامل TTP (تاکتیک، تکنیک و روش های) کلیه پلتفرم های زیر می شود:
Windows, macOS, Linux, PRE, Azure AD, Office 365, Google Workspace, SaaS, IaaS, Network, Containers. 

و همچنین Mobile MAtrix که شامل TTP (تاکتیک، تکنیک و روش های) پلتفرم های  iOS و Android می شود
https://attack.mitre.org/matrices/mobile/

و همچنین ICS Matrix  که شامل TTP ( تاکتیک، تکنیک و روش های) شبکه های صنعتی می باشد.
https://attack.mitre.org/matrices/ics/


فریم ورک های Red Teaming :
MITRE Attack
Reconnaissance
Resource Development
Initial Access
Execution
Persistence
Privilege Escalation
Defense evasion
Credential Access
Discovery
Lateral Movement
Collection
C2
Exfiltration
Impact
 
Cyber Kill chain
Reconnaissance
Weaponization
Delivery
Exploitation
Installation
C2
Action on objectives
برای شبیه سازی حملات APT گروه ها با توجه به نوع گروه ها از ابزارهای مختلفی استفاده می شود که شامل C2 سرورها و اکسپلویت ها یا حتی LOLBINS ها می باشد لیست اکثر این ابزارها:
https://attack.mitre.org/software/
در اکثر مصاحبه از مهم ترین ابزارها نیز سوال می شود که برخی از آن ها در زیر لیست شده است
برخی از ابزارهای Red Teaming : 

Cobalt Strike
Metasploit Framework
Powersploit
Empire
Social Engineering Toolkit
Havoc
Covenant
Mythic
BloodHound
CrackMapExec
Responder
Impacket
MITMf
BeEF
Maltego
evilginx2
gophish
سوالات مصاحبه ردتیم سطح متوسط:

1. هدف اصلی Red Teaming چیست و چه تفاوتی با تست نفوذ دارد؟
هدف اصلی Red Teaming شبیه سازی حملات APT Groups و ارزیابی قابلیت های واکنش به حادثه (IR) است. Red Teaming با آزمایش نفوذ متفاوت است زیرا رویکردی  یک هکر متخاصم را دارد و بر تقلید از تاکتیک‌ها، تکنیک‌ها و رویه‌ها (TTP) مورد استفاده مهاجمان واقعی تمرکز دارد.

2. مراحل Red Teaming را نام ببرید.
Reconnaissance
Resource Development
Initial Access
Execution
Persistence
Privilege Escalation
Defense evasion
Credential Access
Discovery
Lateral Movement
Collection
C2
Exfiltration
Impact


3. چگونه اهداف را اولویت بندی می کنید و مهم ترین دارایی ها را برای ارزیابی در طول عملیات تیم قرمز انتخاب می کنید؟
اولویت بندی اهداف در عملیات تیم قرمز شامل در نظر گرفتن دارایی های حیاتی، داده های با ارزش بالا، سیستم های دارای اطلاعات حساس و اجزایی است که در صورت به خطر افتادن، تاثیر قابل توجهی بر عملیات تجاری دارند.

4. برخی از تکنیک های رایج مهندسی اجتماعی که در Red Teaming استفاده می شود، چیست و چگونه می توان از آنها جلوگیری کرد؟
تکنیک های متداول مهندسی اجتماعی مورد استفاده در Red Teaming شامل phishing emails, pretexting, baiting است. استراتژی های کاهش شامل آموزش آگاهی امنیتی، احراز هویت چند عاملی (MFA) و سیاست های کنترل دسترسی دقیق است.

5. مفهوم Lateral Movement و اهمیت آن را در عملیات تیم قرمز توضیح دهید.
تاکتیک Lateral Movement فرآیند حرکت جانبی در داخل شبکه پس از دستیابی به دسترسی اولیه است. این به مهاجم کمک می کند تا نفوذ خود را گسترش دهد، سیستم های بیشتری را به خطر می اندازد و پایداری در شبکه را حفظ کند.

6. چگونه در حین انجام فعالیت های تیم قرمز، پنهان کاری را حفظ می کنید و از شناسایی اجتناب می کنید؟
باید برای حفظ مخفی کاری از تکنیک های obfuscation و رمزنگاری استفاده شود و همچنین رفتاری مشابه کاربران اصلی شبکه  انجام شود.


7. چند روش برای privilege escalation  در یک سیستم در معرض خطر در طی ارزیابی تیم قرمز چیست؟
تاکتیک privilege escalation شامل دستیابی به سطح بالاتری از دسترسی در یک سیستم در معرض خطر برای انجام اقدامات بیشتر یا دسترسی به داده های حساس است. برخی از تکنیک‌ها شامل بهره‌برداری از پیکربندی‌های نادرست، آسیب‌پذیری‌ها است.


8. امنیت یک شبکه بی سیم را به عنوان بخشی از تعامل تیم قرمز چگونه ارزیابی می کنید؟
برای ارزیابی امنیت شبکه بی سیم همانند تست نفوذ، مدل دستگاه اول بررسی می کنیم آسیب پذیری دارد یا نه سپس به بررسی رمزنگاری می پردازیم که آسیب پذیر هست یا نه و در آخر هم حمله handshake برای بدست آوردن پسورد را انجام می دهیم.


9. آیا می توانید مفهوم pivoting در Red Teaming و نحوه استفاده از آن برای گسترش دسترسی در یک شبکه هدف را توضیح دهید؟
Pivoting در Red Teaming به استفاده از سیستم های که دسترسی وجود دارد و برخی از آن ها در واقع Route به دیگر شبکه ها دارند که شاید به صورت مستقیم به آن شبکه دسترسی وجود نداشته باشد و برای گسترش دسترسی به نقاط دیگر شبکه از این سیستم ها استفاده می کنیم و عملیات pivoting را انجام می دهیم.


10. تفاوت های کلیدی بین عملیات تیم قرمز و تیم آبی چیست؟
عملیات تیم قرمز ارزیابی امنیتی تهاجمی است، در حالی که عملیات تیم آبی بر امنیت دفاعی، از جمله تشخیص حادثه، پاسخ، و شکار تهدید متمرکز است.


11. ابزارها و روش هایی را که برای انجام شناسایی در طی ارزیابی تیم قرمز استفاده می کنید، شرح دهید.
شناسایی در Red Teaming شامل جمع آوری اطلاعات در مورد شبکه هدف، مانند آدرس های IP، دامنه ها، اطلاعات کارکنان است. معمولاً از ابزارهایی مانند OSINT و passive reconnaissance  استفاده می شود.

12. وقتی با کنترل‌های امنیتی غیرمنتظره‌ای در طول یک درگیری با تیم قرمز مواجه می‌شوید، چگونه با موقعیت‌هایی برخورد می‌کنید؟
وقتی با همچنین موارد برخورد می کنم بدون شک به صورت ترکیبی و رندوم شروع به اجرای حملات مختلف می کنم درست مانند یک هکر واقعی که تلاش میکند مخفی بماند و شناسایی نشود حفظ مخفی بودن در این موقعیت ها خیلی حیاتی است.

13. توضیح دهید که چگونه یک کمپین فیشینگ را به عنوان بخشی از تمرین تیم قرمز انجام می دهید.
یک کمپین فیشینگ در Red Teaming با هدف فریب کارمندان برای افشای اطلاعات حساس یا دانلود فایل مخرب است. ممکن است شامل ایجاد ایمیل‌ها یا وب‌سایت‌های متقاعدکننده و استفاده از تکنیک‌های مبهم‌سازی URL باشد. که از gophish برای این عملیات استفاده می کنم که کارمندانی که ایمیل را باز کردند کاملا تفکیک شده و مشخص باشند.

14. چگونه آسیب‌پذیری‌ها را در برنامه‌های وب در طول ارزیابی Red Team شناسایی و از آن‌ها بهره‌برداری می‌کنید؟
کشف آسیب پذیری هایی مثل sql injection و RCE که دسترسی به سرورها بدهد یک نقطه شروع initial Access به سازمان ها محسوب می شود منتها در وهله reconnaissance صرفا  نقاط ورودی را لیست می کنم تا تست آسیب پذیری را در ادامه انجام دهم.


15. چند تکنیک رایج برای فرار از راه حل های امنیتی (Defense Evasion)  محصولات مثل EDR XDR و Anti Virus چیست را نام ببرید؟
استفاده از بدافزارهای Fileless، استفاده از obfuscation و Polymorphic code و یا در صورت دسترسی به اکسپلویت 0day 

16. آیا می توانید زمانی را توضیح دهید که در طی یک درگیری با تیم قرمز با یک سناریوی چالش برانگیز مواجه شدید و چگونه بر آن غلبه کردید؟


17. چگونه یافته های خود را گزارش می کنید و تأثیر ارزیابی تیم قرمز خود را به ذینفعان منتقل می کنید؟
گزارش باید به شکل تاکتیک های و تکنیک های که شبیه سازی شده از مرحله شناسایی آسیب پذیری ها تا نفوذ و در انتها جمع آوری داده ها باید شامل شود.

18. برخی از ملاحظات و دستورالعمل های اخلاقی که باید در طول عملیات تیم قرمز رعایت شود چیست؟
به صورت کلی ملاحظات اخلاقی شامل رعایت مرزبندی و عدم به خطر انداختن اطلاعات شخصی و سازمانی می باشد حتی در صورت دسترسی پیدا کردن اطلاعات شخصی کارمندان باید گزارش شود و نباید به عنوان داده شبکه دانلود شود همچنین نباید هیچ کدام از سرویس هایی که در حال استفاده می شوند دچار اختلال شوند.

19. چگونه با جدیدترین ابزارها و تکنیک های Red Teaming  آشنا می شوید؟
به روز ماندن نیازمند مطالعه روزانه بلاگ اخبار گزارشات DFIR از گروه های APT دسترسی به گزارشات TI و دنبال کردن اکانت های سازمان های امنیتی در توییتر و همچنین مطالعه روزانه ردیت می باشد.

20. آیا می توانید تجربه خود را در همکاری با تیم های آبی و اینکه چگونه روی رویکرد تیم قرمز شما تاثیر گذاشته است به اشتراک بگذارید؟
به شخصه مدت زمانی کوتاهی در تیم آبی نیز کار کردم و نگرش آنها به رد تیمر بودن من بسیار کمک کرد و همچنین ادبیات آنها را می دانم و به راحتی می توانم با آن ها جلسه بگذارم و تبادل اطلاعات برای بالا بردن سطح دو تیم را مدیریت کنم.











سوالات مصاحبه ردتیم سطح حرفه ای:
1. آیا می توانید یک تعامل بسیار موفق تیم قرمز که رهبری کردید و استراتژی هایی که برای دستیابی به اهداف خود به کار گرفته اید را توضیح دهید؟
در عملیات ها که من رهبری کردم. در مراحل مختلف مثل شناسایی نکات امنیتی رعایت شد و از ابزارهای passive  استفاده شد همچنین در راه اندازی زیرساخت نکات opsec رعایت شد تا domain و c2 ها شناسایی نشود و pretexting که برای مهندسی اجتماعی استفاده شد همگی کار شده بود و از قبل روی شبکه های اجتماعی شرکت ها کار شده بود که مجاب به باز کردن ایمیل های کمپین فیشینگ gophish شوند.


2. چگونه اطمینان می‌دهید که عملیات تیم قرمز با اهداف و اولویت‌های تجاری هماهنگ است و چگونه تأثیر آن‌ها را بر سازمان اندازه‌گیری می‌کنید؟
عملیات ردتیم همیشه باید در راستای اهداف تجاری سازمان باشد و تمرکز اصلی باید بر روی دارایی های حیاتی که در واقع نقاط نفوذ بالقوه هستند باشد تا ریسک مورد خطر گرفتن آن ها نیز کاهش یابد.

3. به‌عنوان یک رهبر ارشد تیم قرمز، چگونه می‌توانید اعضای تیم با تجربه کمتر را راهنمایی و پرورش دهید تا مهارت‌ها و قابلیت‌های آن‌ها را افزایش دهید؟
ایجاد محیطی از یادگیری و رشد مستمر، ارائه مشاوره، کارگاه‌ها، و تشویق شرکت در کنفرانس‌های امنیتی را ایجاد می‌کنم.


4. چگونه می‌توانید درک عمیقی از آخرین Threat Actor ها ، تکنیک‌ها و روندهای تهدید برای انطباق و اصلاح روش‌های تیم قرمز خود داشته باشید؟
من از طریق منابع مختلف مانند فیدهای  TI، مقالات تحقیقاتی، شرکت در کنفرانس ها و شرکت در جوامع امنیت سایبری به روز می شوم.

5. رویکرد خود را برای طراحی ابزارها و تکنیک های سفارشی برای تعاملات تیم قرمز که برای محیط های هدف خاص طراحی شده اند به اشتراک بگذارید.
سفارشی سازی ابزارها خصوصا C2 ها برای شبیه سازی حملات امر حیاتی است و همچنین شبیه سازی هر گروه نیازمند سفارشی سازی بعضی از ابزارها است که این امر انکار ناپذیر می باشد.

6. در ارزیابی تیم قرمز در مقیاس بزرگ، چگونه تیم های متعددی را برای به حداکثر رساندن اثربخشی و پوشش سازماندهی و مدیریت می کنید؟
مدیریت پروژه مقیاس بزرگ نیازمند مشخص کردن نقش ها و تسک ها و همچنین مدیریت تسک ها دارد و همچنین این نوع پروژه ها باید حداکثر مدیریت را داشته باشد و به صورت مداوم روند انجام تسک ها چک شود.

7. به عنوان یک رهبر ارشد، چگونه به طور موثر یافته های فنی و توصیه های استراتژیک را به ذینفعان سطح اجرایی منتقل می کنید؟
وقتی باید خروجی کار برای مدیران سازمان ها ارائه شود باید کلیه داده های فنی تبدیل به نمودارهایی شوند که تاثیر مشکلات امنیتی بر روی تجارتشان را نمایش دهند زیرا اکثر مدیران دیدی نسبت به مسایل فنی و امنیت ندارند.

8. چگونه اطمینان حاصل می کنید که عملیات تیم قرمز شما با دستورالعمل های قانونی و اخلاقی مربوطه مطابقت دارد؟
من اطمینان حاصل می کنم کلیه فعالیت تیمم طبق قوانین می باشد و حتما پیش از شروع پروژه مجوزها بررسی می شود و اطمینان حاصل می شود که هیچ مشکلی برای سرویس ها سازمان پیش نیاید و کلیه اعضای تیم در این مورد توجیه می شوند.

9. در زمینه Red Teaming، امنیت محیط های ابری را چگونه ارزیابی می کنید و چالش های منحصر به فردی که ممکن است با آن مواجه شوید چیست؟
به صورت کلی محیط های ابری اکثرا روی پیکربندی نادرست و Access control مشکل دارند و با پیدا سازی فیشینگ این کار را انجام می دهم.

10. توضیح دهید که چگونه از هوش تهدید استفاده می کنید تا تعاملات تیم قرمز خود را افزایش دهید و آنها را واقعی تر و موثرتر کنید.
هر رد تیمری نیازمند مطالعه گزارشات TI است چرا که باید شبیه سازی یک حمله واقعی را انجام دهد و تنها جایی که می توان گزارشات حملات واقعی را با جزییات کامل پیدا کند همین گزارش های TI هستند.

11. آیا می‌توانید نقش مدل‌سازی تهدید در Red Teaming و چگونگی تأثیر آن بر برنامه‌ریزی و اجرای ارزیابی‌ها را مورد بحث قرار دهید؟
مدل سازی تهدید یکی از اصولی ترین روش ها برای روشن کردن مسیر در امنیت تهاجمی است به طور مثال با استفاده از این مدل سازی می توان سناریوهای مختلف برای شبیه سازی را طراحی و مورد ارزیابی قرار داد.

12. به عنوان یک رهبر ارشد تیم قرمز، چگونه همکاری و ارتباط موثر بین تیم های قرمز و تیم های آبی را تقویت می کنید؟
همکاری بین تیم های قرمز و تیم های آبی برای ایجاد یک وضعیت امنیتی قوی تر بسیار مهم است. به اشتراک گذاری منظم دانش و تمرینات مشترک باعث افزایش درک متقابل می شود.

13. ارزیابی امنیت دستگاه‌های اینترنت اشیاء (IoT) و ادغام ارزیابی‌های امنیتی اینترنت اشیا در تعاملات تیم قرمز چگونه است؟
ارزیابی‌های امنیتی اینترنت اشیا در Red Teaming شامل ارزیابی امنیت دستگاه، پروتکل‌های ارتباطی و حملات متداول در اکوسیستم اینترنت اشیا می باشد.

14. تجربه خود را در انجام تمرینات تیم قرمز که شامل مولفه های امنیتی فیزیکی، مانند تست نفوذ در محل و مهندسی اجتماعی است، به اشتراک بگذارید.
ارزیابی امنیتی فیزیکی بسیار پیچیده است و مانند دیگر ارزیابی ها روتین نمی باشد و نیازمند رویکردهای پنهان و خلاقانه است و این ارزیابی ها شاید در بسیاری از شرکت ها یا سازمان ها قابل پیاده سازی نباشد ولی بیشتر روی مهندسی اجتماعی از طریق تلفن و sms و phishing تمرکز شود.

15. در سناریویی که ارزیابی تیم قرمز توسط تیم آبی تشخیص داده می شود، چه مراحلی را برای چرخاندن و حفظ جایگاه خود در شبکه هدف انجام می دهید؟
در صورتی که حمله شناسایی شود باید تمرکز بیشتر روی تاکتیک defense evasion گذاشت تا بتوان از دست رفتن دسترسی جلوگیری کرد.

16. چگونه اطمینان حاصل می کنید که گزارش های تیم قرمز توصیه های عملی و اولویت بندی شده ای را برای بهبود وضعیت امنیتی سازمان ارائه می دهند؟
گزارش های تیم قرمز باید واضح، مختصر و اولویت بندی یافته ها بر اساس ریسک باشد. توصیه ها باید قابل اجرا و متناسب با قابلیت های سازمان باشد.

17. اهمیت تیم قرمز را در محیط DevSecOps و نحوه ادغام ارزیابی های Red Team را در چرخه عمر توسعه نرم افزار شرح دهید.
ادغام ارزیابی‌های Red Team در DevSecOps به شناسایی ضعف‌های امنیتی زودتر در فرآیند توسعه کمک می‌کند و وضعیت امنیتی کلی را بهبود می‌بخشد.

18. روش خود را برای ارزیابی امنیتی سازمان در برابر تهدیدات پایدار پیشرفته (APTs) در طول یک تعامل با تیم قرمز به اشتراک بگذارید.
شبیه سازی APT نیازمند درک کامل روی TTP و شناخت کامل آن APT group می باشد تا بتوان واقع بینانه حملات را شبیه سازی کرد.

19. به عنوان یک رهبر ارشد تیم قرمز، چگونه با شرایطی برخورد می کنید که در آن مقاومت قابل توجه از سوی ذینفعان داخلی مانع از فرآیند ارزیابی می شود؟
هنگام مواجهه با مقاومت، ارزش ارزیابی را به ذینفعان اعلام می‌کنم و به نگرانی‌ها رسیدگی می‌کنم و در عین حال اطمینان می‌دهم که تعامل در محدوده‌های اخلاقی و مجاز باقی می‌ماند.
بسیاری پیش می آید اعضای داخل سازمان ها بخش شبکه و امنیت شبکه مقاومت زیادی را در برابر تست های امنیتی انجام می دهند. در ابتدا سعی می کنم با این تیم ها ارتباط صمیمی بگیرم ولی در صورتی که ادامه دار باشد از طریق مدیریت بالا دستی اقدام می کنم.

20. چگونه خلاقیت و نوآوری را در تیم قرمز خود حفظ می کنید و اطمینان حاصل می کنید که همیشه یک قدم جلوتر از TA ها هستید؟
تنها راه تفکر خلاق و پرورش فرهنگ نوآوری در تیم قرمز می شود تا از TA ها جلوتر بماند و این عمل باید به صورت مستمر انجام شود.
